import axios from 'axios'

const RATE_DATA = 'https://blockchain.info/ticker?format=json&cors=true&'
const TRADE_VOLUME_DATA = 'https://api.blockchain.info/charts/trade-volume?format=json&cors=true&'
const AVG_BLOCK_SIZE_DATA = 'https://api.blockchain.info/charts/avg-block-size?format=json&cors=true&'
const MARKET_PRICE_DATA = 'https://api.blockchain.info/charts/market-price?format=json&cors=true&'


export const bitcoinService = {
    getRate,
    getCharts
}

async function getCharts({span='timespan=6months', avg='rollingAverage=1days'}) {
    const marketPrice = await _getMarketPrice(span,avg)
    const tradeVolume = await _getTradeVolume(span,avg)
    const avgBlockSize = await _getAvgBlockSize(span,avg)
    return { marketPrice, tradeVolume, avgBlockSize }
}

async function getRate() {
    try {
        // return rateData.USD.last
        const res = await axios.get(RATE_DATA)
        return res.data.USD.last
    } catch (err) {
        console.log(`err`, err)
    }
}

async function _getMarketPrice(span='timespan=6months', avg='rollingAverage=1days') {
   try {
        const res = await axios.get(MARKET_PRICE_DATA+`${span}&${avg}`)
    return {
        title: `Market Price (USD)`,
        description: `The average USD market price across major bitcoin exchanges.`,
        posColor: '#ffa600',
        stroke: '#774e03',
        negColor: 'red',
        data: res.data.values.map(val => ({
            name: (new Date(val.x * 1000)).toLocaleDateString(),
            USD: val.y
        })), unit: 'USD'
    }
   } catch (err) {
    
   }
}

async function _getTradeVolume(span='timespan=6months', avg='rollingAverage=1days') {
    try {
         const res = await axios.get(TRADE_VOLUME_DATA+`${span}&${avg}`)
         return {
             title: `Exchange Trade Volume (USD)`,
             description: `The total USD value of trading volume on major bitcoin exchanges.`,
             posColor: '#11ffbb',
             stroke: '#118e7f',
             negColor: 'red',
             data: res.data.values.map(val => ({
                 name: (new Date(val.x * 1000)).toLocaleDateString(),
                 USD: val.y
             })),
             unit: 'USD'
         }
    } catch (err) {
        console.log(`err`, err)
    }
}
async function _getAvgBlockSize(span='timespan=6months', avg='rollingAverage=1days') {
    try {
         const res = await axios.get(AVG_BLOCK_SIZE_DATA+`${span}&${avg}`)
         return {
             title: `Average Block Size (MB)`,
             description: `The average block size over the past 24 hours in megabytes.`,
             posColor: '#5f00ff',
             stroke: '#36007e',
             negColor: 'red',
             data: res.data.values.map(val => ({
                 name: (new Date(val.x * 1000)).toLocaleDateString(),
                 MB: val.y
             })),
             unit: 'MB'
         }
    } catch (err) {
        console.log(`err`, err)
    }
}

// async function _getConfirmedTransactions() {

// }

// const rateData = {
//     "ARS": {
//         "15m": 5552063.26,
//         "last": 5552063.26,
//         "buy": 5552063.26,
//         "sell": 5552063.26,
//         "symbol": "ARS"
//     },
//     "AUD": {
//         "15m": 25050.7,
//         "last": 25050.7,
//         "buy": 25050.7,
//         "sell": 25050.7,
//         "symbol": "AUD"
//     },
//     "BRL": {
//         "15m": 87106.51,
//         "last": 87106.51,
//         "buy": 87106.51,
//         "sell": 87106.51,
//         "symbol": "BRL"
//     },
//     "CAD": {
//         "15m": 22776.68,
//         "last": 22776.68,
//         "buy": 22776.68,
//         "sell": 22776.68,
//         "symbol": "CAD"
//     },
//     "CHF": {
//         "15m": 15662.36,
//         "last": 15662.36,
//         "buy": 15662.36,
//         "sell": 15662.36,
//         "symbol": "CHF"
//     },
//     "CLP": {
//         "15m": 14943319.07,
//         "last": 14943319.07,
//         "buy": 14943319.07,
//         "sell": 14943319.07,
//         "symbol": "CLP"
//     },
//     "CNY": {
//         "15m": 118898.51,
//         "last": 118898.51,
//         "buy": 118898.51,
//         "sell": 118898.51,
//         "symbol": "CNY"
//     },
//     "CZK": {
//         "15m": 383006.43,
//         "last": 383006.43,
//         "buy": 383006.43,
//         "sell": 383006.43,
//         "symbol": "CZK"
//     },
//     "DKK": {
//         "15m": 117449.8,
//         "last": 117449.8,
//         "buy": 117449.8,
//         "sell": 117449.8,
//         "symbol": "DKK"
//     },
//     "EUR": {
//         "15m": 15829.1,
//         "last": 15829.1,
//         "buy": 15829.1,
//         "sell": 15829.1,
//         "symbol": "EUR"
//     },
//     "GBP": {
//         "15m": 13948.4,
//         "last": 13948.4,
//         "buy": 13948.4,
//         "sell": 13948.4,
//         "symbol": "GBP"
//     },
//     "HKD": {
//         "15m": 131071.61,
//         "last": 131071.61,
//         "buy": 131071.61,
//         "sell": 131071.61,
//         "symbol": "HKD"
//     },
//     "HRK": {
//         "15m": 125330.33,
//         "last": 125330.33,
//         "buy": 125330.33,
//         "sell": 125330.33,
//         "symbol": "HRK"
//     },
//     "HUF": {
//         "15m": 6775093.93,
//         "last": 6775093.93,
//         "buy": 6775093.93,
//         "sell": 6775093.93,
//         "symbol": "HUF"
//     },
//     "INR": {
//         "15m": 1385430.36,
//         "last": 1385430.36,
//         "buy": 1385430.36,
//         "sell": 1385430.36,
//         "symbol": "INR"
//     },
//     "ISK": {
//         "15m": 2648217.72,
//         "last": 2648217.72,
//         "buy": 2648217.72,
//         "sell": 2648217.72,
//         "symbol": "ISK"
//     },
//     "JPY": {
//         "15m": 2240368.67,
//         "last": 2240368.67,
//         "buy": 2240368.67,
//         "sell": 2240368.67,
//         "symbol": "JPY"
//     },
//     "KRW": {
//         "15m": 21866620.24,
//         "last": 21866620.24,
//         "buy": 21866620.24,
//         "sell": 21866620.24,
//         "symbol": "KRW"
//     },
//     "NZD": {
//         "15m": 27023.93,
//         "last": 27023.93,
//         "buy": 27023.93,
//         "sell": 27023.93,
//         "symbol": "NZD"
//     },
//     "PLN": {
//         "15m": 73952.88,
//         "last": 73952.88,
//         "buy": 73952.88,
//         "sell": 73952.88,
//         "symbol": "PLN"
//     },
//     "RON": {
//         "15m": 101111.98,
//         "last": 101111.98,
//         "buy": 101111.98,
//         "sell": 101111.98,
//         "symbol": "RON"
//     },
//     "RUB": {
//         "15m": 1169113.33,
//         "last": 1169113.33,
//         "buy": 1169113.33,
//         "sell": 1169113.33,
//         "symbol": "RUB"
//     },
//     "SEK": {
//         "15m": 196744.08,
//         "last": 196744.08,
//         "buy": 196744.08,
//         "sell": 196744.08,
//         "symbol": "SEK"
//     },
//     "SGD": {
//         "15m": 22707.19,
//         "last": 22707.19,
//         "buy": 22707.19,
//         "sell": 22707.19,
//         "symbol": "SGD"
//     },
//     "THB": {
//         "15m": 585397.76,
//         "last": 585397.76,
//         "buy": 585397.76,
//         "sell": 585397.76,
//         "symbol": "THB"
//     },
//     "TRY": {
//         "15m": 319613.72,
//         "last": 319613.72,
//         "buy": 319613.72,
//         "sell": 319613.72,
//         "symbol": "TRY"
//     },
//     "TWD": {
//         "15m": 933508.28,
//         "last": 933508.28,
//         "buy": 933508.28,
//         "sell": 933508.28,
//         "symbol": "TWD"
//     },
//     "USD": {
//         "15m": 16821.77,
//         "last": 16821.77,
//         "buy": 16821.77,
//         "sell": 16821.77,
//         "symbol": "USD"
//     }
// }

// const tradeVolume = {
//     "status": "ok",
//     "name": "USD Exchange Trade Volume",
//     "unit": "Trade Volume (USD)",
//     "period": "day",
//     "description": "The total USD value of trading volume on major bitcoin exchanges.",
//     "values": [
//         {
//             "x": 1658966400,
//             "y": 251411017.33110002
//         },
//         {
//             "x": 1659052800,
//             "y": 295870938
//         },
//         {
//             "x": 1659139200,
//             "y": 212245814.88
//         },
//         {
//             "x": 1659225600,
//             "y": 143327156.6714
//         },
//         {
//             "x": 1659312000,
//             "y": 113172898.2681
//         },
//         {
//             "x": 1659398400,
//             "y": 142962528.8294
//         },
//         {
//             "x": 1659484800,
//             "y": 146484193.2561
//         },
//         {
//             "x": 1659571200,
//             "y": 159814958.8525
//         },
//         {
//             "x": 1659657600,
//             "y": 145167442.13399997
//         },
//         {
//             "x": 1659744000,
//             "y": 206837082.15719998
//         },
//         {
//             "x": 1659830400,
//             "y": 66176253.88149999
//         },
//         {
//             "x": 1659916800,
//             "y": 69880096.935
//         },
//         {
//             "x": 1660003200,
//             "y": 171883810.4192
//         },
//         {
//             "x": 1660089600,
//             "y": 121787370.5616
//         },
//         {
//             "x": 1660176000,
//             "y": 235101443.8176
//         },
//         {
//             "x": 1660262400,
//             "y": 209152342.755
//         },
//         {
//             "x": 1660348800,
//             "y": 142290051.3846
//         },
//         {
//             "x": 1660435200,
//             "y": 101940131.61659999
//         },
//         {
//             "x": 1660521600,
//             "y": 97407151.3823
//         },
//         {
//             "x": 1660608000,
//             "y": 177695425.4598
//         },
//         {
//             "x": 1660694400,
//             "y": 142507546.9682
//         },
//         {
//             "x": 1660780800,
//             "y": 186970069.96870002
//         },
//         {
//             "x": 1660867200,
//             "y": 85576545.50400001
//         },
//         {
//             "x": 1660953600,
//             "y": 282670538.83500004
//         },
//         {
//             "x": 1661040000,
//             "y": 102525167.1585
//         },
//         {
//             "x": 1661126400,
//             "y": 93146577.8177
//         },
//         {
//             "x": 1661212800,
//             "y": 133683770.92650001
//         },
//         {
//             "x": 1661299200,
//             "y": 111893631.68959999
//         },
//         {
//             "x": 1661385600,
//             "y": 112569050.8327
//         },
//         {
//             "x": 1661472000,
//             "y": 84671660.8548
//         },
//         {
//             "x": 1661558400,
//             "y": 246810893.3568
//         },
//         {
//             "x": 1661644800,
//             "y": 91358283.282
//         },
//         {
//             "x": 1661731200,
//             "y": 66312859.9365
//         },
//         {
//             "x": 1661817600,
//             "y": 135552924.6624
//         },
//         {
//             "x": 1661904000,
//             "y": 151790295.21760002
//         },
//         {
//             "x": 1661990400,
//             "y": 163277928.8064
//         },
//         {
//             "x": 1662076800,
//             "y": 138904614.104
//         },
//         {
//             "x": 1662163200,
//             "y": 131906293.6608
//         },
//         {
//             "x": 1662249600,
//             "y": 45999606.05279999
//         },
//         {
//             "x": 1662336000,
//             "y": 43449774.075500004
//         },
//         {
//             "x": 1662422400,
//             "y": 79616230.1996
//         },
//         {
//             "x": 1662508800,
//             "y": 265106953.947
//         },
//         {
//             "x": 1662595200,
//             "y": 151383910.5464
//         },
//         {
//             "x": 1662681600,
//             "y": 118936981.0128
//         },
//         {
//             "x": 1662768000,
//             "y": 304688747.9348
//         },
//         {
//             "x": 1662854400,
//             "y": 104361707.8984
//         },
//         {
//             "x": 1662940800,
//             "y": 79558279.9176
//         },
//         {
//             "x": 1663027200,
//             "y": 194506661.8936
//         },
//         {
//             "x": 1663113600,
//             "y": 329517960.6976
//         },
//         {
//             "x": 1663200000,
//             "y": 182388428.82
//         },
//         {
//             "x": 1663286400,
//             "y": 153718631.02519998
//         },
//         {
//             "x": 1663372800,
//             "y": 150444803.0778
//         },
//         {
//             "x": 1663459200,
//             "y": 69923600.0706
//         },
//         {
//             "x": 1663545600,
//             "y": 97523923.19399999
//         },
//         {
//             "x": 1663632000,
//             "y": 217909209.54000002
//         },
//         {
//             "x": 1663718400,
//             "y": 145048691.0928
//         },
//         {
//             "x": 1663804800,
//             "y": 325322374.08
//         },
//         {
//             "x": 1663891200,
//             "y": 151459902.2762
//         },
//         {
//             "x": 1663977600,
//             "y": 161439766.84440002
//         },
//         {
//             "x": 1664064000,
//             "y": 60333153.5973
//         },
//         {
//             "x": 1664150400,
//             "y": 67057009.234
//         },
//         {
//             "x": 1664236800,
//             "y": 164548429.26079997
//         },
//         {
//             "x": 1664323200,
//             "y": 319169158.07350004
//         },
//         {
//             "x": 1664409600,
//             "y": 316928346.6978
//         },
//         {
//             "x": 1664496000,
//             "y": 169413525.783
//         },
//         {
//             "x": 1664582400,
//             "y": 253017327.26400003
//         },
//         {
//             "x": 1664668800,
//             "y": 50852295.2727
//         },
//         {
//             "x": 1664755200,
//             "y": 55637564.718
//         },
//         {
//             "x": 1664841600,
//             "y": 122779201.72240001
//         },
//         {
//             "x": 1664928000,
//             "y": 208891717.335
//         },
//         {
//             "x": 1665014400,
//             "y": 148680376.4043
//         },
//         {
//             "x": 1665100800,
//             "y": 133641030.0638
//         },
//         {
//             "x": 1665187200,
//             "y": 132320972.2266
//         },
//         {
//             "x": 1665273600,
//             "y": 46638474.8005
//         },
//         {
//             "x": 1665360000,
//             "y": 40444165.28880001
//         },
//         {
//             "x": 1665446400,
//             "y": 92330288.9916
//         },
//         {
//             "x": 1665532800,
//             "y": 109367602.67159998
//         },
//         {
//             "x": 1665619200,
//             "y": 75259960.0375
//         },
//         {
//             "x": 1665705600,
//             "y": 282223029.2997
//         },
//         {
//             "x": 1665792000,
//             "y": 149520641.71539998
//         },
//         {
//             "x": 1665878400,
//             "y": 50545237.75699999
//         },
//         {
//             "x": 1665964800,
//             "y": 45258775.7313
//         },
//         {
//             "x": 1666051200,
//             "y": 112093793.98
//         },
//         {
//             "x": 1666137600,
//             "y": 117679359.28320001
//         },
//         {
//             "x": 1666224000,
//             "y": 85475781.2105
//         },
//         {
//             "x": 1666310400,
//             "y": 102267382.4458
//         },
//         {
//             "x": 1666396800,
//             "y": 125727948.2808
//         },
//         {
//             "x": 1666483200,
//             "y": 28787625.168500002
//         },
//         {
//             "x": 1666569600,
//             "y": 75735528.76889999
//         },
//         {
//             "x": 1666656000,
//             "y": 101881192.98
//         },
//         {
//             "x": 1666742400,
//             "y": 231153549.30150002
//         },
//         {
//             "x": 1666828800,
//             "y": 198263659.5324
//         },
//         {
//             "x": 1666915200,
//             "y": 154340655.31080002
//         },
//         {
//             "x": 1667001600,
//             "y": 149183201.3679
//         },
//         {
//             "x": 1667088000,
//             "y": 81289810.9008
//         },
//         {
//             "x": 1667174400,
//             "y": 58164737.455000006
//         },
//         {
//             "x": 1667260800,
//             "y": 125304780.02560002
//         },
//         {
//             "x": 1667347200,
//             "y": 77015431.25619999
//         },
//         {
//             "x": 1667433600,
//             "y": 154462597.8388
//         },
//         {
//             "x": 1667520000,
//             "y": 93854980.3856
//         },
//         {
//             "x": 1667606400,
//             "y": 199450765.4407
//         },
//         {
//             "x": 1667692800,
//             "y": 61801122.9682
//         },
//         {
//             "x": 1667779200,
//             "y": 49064031.54240001
//         },
//         {
//             "x": 1667865600,
//             "y": 96504927.3064
//         },
//         {
//             "x": 1667952000,
//             "y": 678860774.3369
//         },
//         {
//             "x": 1668038400,
//             "y": 521582656.35
//         },
//         {
//             "x": 1668124800,
//             "y": 465541086.5283
//         },
//         {
//             "x": 1668211200,
//             "y": 271418723.8896
//         },
//         {
//             "x": 1668297600,
//             "y": 81091749.15200001
//         },
//         {
//             "x": 1668384000,
//             "y": 92079635.54699999
//         },
//         {
//             "x": 1668470400,
//             "y": 256353153.7932
//         },
//         {
//             "x": 1668556800,
//             "y": 238738600.90080002
//         },
//         {
//             "x": 1668643200,
//             "y": 168947615.592
//         },
//         {
//             "x": 1668729600,
//             "y": 118130025.884
//         },
//         {
//             "x": 1668816000,
//             "y": 110184993.8188
//         },
//         {
//             "x": 1668902400,
//             "y": 49535398.008
//         },
//         {
//             "x": 1668988800,
//             "y": 68450309.7483
//         },
//         {
//             "x": 1669075200,
//             "y": 219880442.6615
//         },
//         {
//             "x": 1669161600,
//             "y": 143346534.045
//         },
//         {
//             "x": 1669248000,
//             "y": 133423440.0756
//         },
//         {
//             "x": 1669334400,
//             "y": 75688791.6186
//         },
//         {
//             "x": 1669420800,
//             "y": 70966475.0064
//         },
//         {
//             "x": 1669507200,
//             "y": 55597755.94230001
//         },
//         {
//             "x": 1669593600,
//             "y": 50052874.65
//         },
//         {
//             "x": 1669680000,
//             "y": 124241678.39999999
//         },
//         {
//             "x": 1669766400,
//             "y": 109941865.4466
//         },
//         {
//             "x": 1669852800,
//             "y": 166029249.6156
//         },
//         {
//             "x": 1669939200,
//             "y": 108607865.058
//         },
//         {
//             "x": 1670025600,
//             "y": 89476520.03289999
//         },
//         {
//             "x": 1670112000,
//             "y": 43680876.3765
//         },
//         {
//             "x": 1670198400,
//             "y": 56116700.9067
//         },
//         {
//             "x": 1670284800,
//             "y": 107058333.1258
//         },
//         {
//             "x": 1670371200,
//             "y": 69807219.0465
//         },
//         {
//             "x": 1670457600,
//             "y": 70035442.5925
//         },
//         {
//             "x": 1670544000,
//             "y": 87723150.471
//         },
//         {
//             "x": 1670630400,
//             "y": 70550099.453
//         },
//         {
//             "x": 1670716800,
//             "y": 31080144.351000004
//         },
//         {
//             "x": 1670803200,
//             "y": 39597815.9685
//         },
//         {
//             "x": 1670889600,
//             "y": 84668640.7281
//         },
//         {
//             "x": 1670976000,
//             "y": 174665411.7198
//         },
//         {
//             "x": 1671062400,
//             "y": 165877795.188
//         },
//         {
//             "x": 1671148800,
//             "y": 103193283.49460001
//         },
//         {
//             "x": 1671235200,
//             "y": 131944320.42399998
//         },
//         {
//             "x": 1671321600,
//             "y": 47752027.375999995
//         },
//         {
//             "x": 1671408000,
//             "y": 34532073.43890001
//         },
//         {
//             "x": 1671494400,
//             "y": 95453946.9136
//         },
//         {
//             "x": 1671580800,
//             "y": 99941753.0976
//         },
//         {
//             "x": 1671667200,
//             "y": 66127294.915199995
//         },
//         {
//             "x": 1671753600,
//             "y": 86287396.806
//         },
//         {
//             "x": 1671840000,
//             "y": 79608649.3414
//         },
//         {
//             "x": 1671926400,
//             "y": 36338471.991
//         }
//     ]
// }

// const avgBlockSize = {
//     "status": "ok",
//     "name": "Average Block Size",
//     "unit": "MB",
//     "period": "day",
//     "description": "The average block size in MB.",
//     "values": [
//         {
//             "x": 1658966400,
//             "y": 1.3485174680851058
//         },
//         {
//             "x": 1659052800,
//             "y": 1.240760945205479
//         },
//         {
//             "x": 1659139200,
//             "y": 1.1395797441860465
//         },
//         {
//             "x": 1659225600,
//             "y": 0.9227110789473686
//         },
//         {
//             "x": 1659312000,
//             "y": 1.287020713235293
//         },
//         {
//             "x": 1659398400,
//             "y": 1.146315819354839
//         },
//         {
//             "x": 1659484800,
//             "y": 1.2921705310344833
//         },
//         {
//             "x": 1659571200,
//             "y": 1.3417020075757575
//         },
//         {
//             "x": 1659657600,
//             "y": 1.1568546066666667
//         },
//         {
//             "x": 1659744000,
//             "y": 1.0134976956521737
//         },
//         {
//             "x": 1659830400,
//             "y": 0.8251613081761004
//         },
//         {
//             "x": 1659916800,
//             "y": 1.1516775000000004
//         },
//         {
//             "x": 1660003200,
//             "y": 1.2713887412587412
//         },
//         {
//             "x": 1660089600,
//             "y": 1.3602275675675677
//         },
//         {
//             "x": 1660176000,
//             "y": 1.3588936285714286
//         },
//         {
//             "x": 1660262400,
//             "y": 1.1878402792207792
//         },
//         {
//             "x": 1660348800,
//             "y": 1.0838953021582733
//         },
//         {
//             "x": 1660435200,
//             "y": 1.122552015037594
//         },
//         {
//             "x": 1660521600,
//             "y": 1.1852143793103445
//         },
//         {
//             "x": 1660608000,
//             "y": 1.3101044391891896
//         },
//         {
//             "x": 1660694400,
//             "y": 1.3302055658914733
//         },
//         {
//             "x": 1660780800,
//             "y": 1.401119722222222
//         },
//         {
//             "x": 1660867200,
//             "y": 1.0801938539325837
//         },
//         {
//             "x": 1660953600,
//             "y": 1.0115254966442961
//         },
//         {
//             "x": 1661040000,
//             "y": 0.945787136986302
//         },
//         {
//             "x": 1661126400,
//             "y": 1.1258427379310343
//         },
//         {
//             "x": 1661212800,
//             "y": 1.0530921337209298
//         },
//         {
//             "x": 1661299200,
//             "y": 1.156057198630137
//         },
//         {
//             "x": 1661385600,
//             "y": 1.09452965408805
//         },
//         {
//             "x": 1661472000,
//             "y": 1.0011326590909104
//         },
//         {
//             "x": 1661558400,
//             "y": 1.072243786206897
//         },
//         {
//             "x": 1661644800,
//             "y": 0.8783849440993783
//         },
//         {
//             "x": 1661731200,
//             "y": 1.1406837452229301
//         },
//         {
//             "x": 1661817600,
//             "y": 1.1189232777777782
//         },
//         {
//             "x": 1661904000,
//             "y": 1.2127055616438356
//         },
//         {
//             "x": 1661990400,
//             "y": 1.26865952173913
//         },
//         {
//             "x": 1662076800,
//             "y": 1.4075855891472864
//         },
//         {
//             "x": 1662163200,
//             "y": 1.1931505578231294
//         },
//         {
//             "x": 1662249600,
//             "y": 0.8614162678571433
//         },
//         {
//             "x": 1662336000,
//             "y": 1.1662621830065365
//         },
//         {
//             "x": 1662422400,
//             "y": 1.258158725352113
//         },
//         {
//             "x": 1662508800,
//             "y": 1.2813445273972601
//         },
//         {
//             "x": 1662595200,
//             "y": 1.380804212598426
//         },
//         {
//             "x": 1662681600,
//             "y": 1.377290925170068
//         },
//         {
//             "x": 1662768000,
//             "y": 1.0515057770700633
//         },
//         {
//             "x": 1662854400,
//             "y": 0.8763909562841532
//         },
//         {
//             "x": 1662940800,
//             "y": 1.2223856143790846
//         },
//         {
//             "x": 1663027200,
//             "y": 1.2808949416058393
//         },
//         {
//             "x": 1663113600,
//             "y": 1.4709224173228346
//         },
//         {
//             "x": 1663200000,
//             "y": 1.2396182721088438
//         },
//         {
//             "x": 1663286400,
//             "y": 1.2864142187500003
//         },
//         {
//             "x": 1663372800,
//             "y": 1.0387603117647062
//         },
//         {
//             "x": 1663459200,
//             "y": 0.945075824675325
//         },
//         {
//             "x": 1663545600,
//             "y": 1.2532212538461533
//         },
//         {
//             "x": 1663632000,
//             "y": 1.275621572368421
//         },
//         {
//             "x": 1663718400,
//             "y": 1.2179004397163125
//         },
//         {
//             "x": 1663804800,
//             "y": 1.2255284843749998
//         },
//         {
//             "x": 1663891200,
//             "y": 1.3804169925925929
//         },
//         {
//             "x": 1663977600,
//             "y": 1.04380405479452
//         },
//         {
//             "x": 1664064000,
//             "y": 0.9538612857142864
//         },
//         {
//             "x": 1664150400,
//             "y": 1.1799564199999992
//         },
//         {
//             "x": 1664236800,
//             "y": 1.4607683875968993
//         },
//         {
//             "x": 1664323200,
//             "y": 1.1130801733333338
//         },
//         {
//             "x": 1664409600,
//             "y": 1.215810685314685
//         },
//         {
//             "x": 1664496000,
//             "y": 1.1372198106508877
//         },
//         {
//             "x": 1664582400,
//             "y": 0.9314143867403312
//         },
//         {
//             "x": 1664668800,
//             "y": 0.9837532866242032
//         },
//         {
//             "x": 1664755200,
//             "y": 1.2453235649350645
//         },
//         {
//             "x": 1664841600,
//             "y": 1.1114347484662572
//         },
//         {
//             "x": 1664928000,
//             "y": 0.9779797542857142
//         },
//         {
//             "x": 1665014400,
//             "y": 1.140855396226415
//         },
//         {
//             "x": 1665100800,
//             "y": 1.1519270233918126
//         },
//         {
//             "x": 1665187200,
//             "y": 0.8557131257142854
//         },
//         {
//             "x": 1665273600,
//             "y": 0.883335449367089
//         },
//         {
//             "x": 1665360000,
//             "y": 1.050634654761905
//         },
//         {
//             "x": 1665446400,
//             "y": 1.1113075987261147
//         },
//         {
//             "x": 1665532800,
//             "y": 1.2116567372262772
//         },
//         {
//             "x": 1665619200,
//             "y": 1.3480974125874128
//         },
//         {
//             "x": 1665705600,
//             "y": 1.3204857499999996
//         },
//         {
//             "x": 1665792000,
//             "y": 1.0648617171052635
//         },
//         {
//             "x": 1665878400,
//             "y": 0.9598758472222225
//         },
//         {
//             "x": 1665964800,
//             "y": 1.1421443266666673
//         },
//         {
//             "x": 1666051200,
//             "y": 1.3007113521126765
//         },
//         {
//             "x": 1666137600,
//             "y": 1.3734424370860927
//         },
//         {
//             "x": 1666224000,
//             "y": 1.22090355862069
//         },
//         {
//             "x": 1666310400,
//             "y": 1.1408685000000005
//         },
//         {
//             "x": 1666396800,
//             "y": 1.1216811911764704
//         },
//         {
//             "x": 1666483200,
//             "y": 0.927848832258065
//         },
//         {
//             "x": 1666569600,
//             "y": 1.2878035514705892
//         },
//         {
//             "x": 1666656000,
//             "y": 1.1976668442622946
//         },
//         {
//             "x": 1666742400,
//             "y": 1.378651135483871
//         },
//         {
//             "x": 1666828800,
//             "y": 1.2746355407407404
//         },
//         {
//             "x": 1666915200,
//             "y": 1.149426201257862
//         },
//         {
//             "x": 1667001600,
//             "y": 1.1329760349650342
//         },
//         {
//             "x": 1667088000,
//             "y": 1.1389616740740744
//         },
//         {
//             "x": 1667174400,
//             "y": 1.0802008150289018
//         },
//         {
//             "x": 1667260800,
//             "y": 1.3080747430555557
//         },
//         {
//             "x": 1667347200,
//             "y": 1.252918754098361
//         },
//         {
//             "x": 1667433600,
//             "y": 1.1789289817073167
//         },
//         {
//             "x": 1667520000,
//             "y": 1.3512702868217052
//         },
//         {
//             "x": 1667606400,
//             "y": 1.1651228807947012
//         },
//         {
//             "x": 1667692800,
//             "y": 1.0726571970802918
//         },
//         {
//             "x": 1667779200,
//             "y": 1.1820038611111112
//         },
//         {
//             "x": 1667865600,
//             "y": 1.2245238098159508
//         },
//         {
//             "x": 1667952000,
//             "y": 1.3109500604026854
//         },
//         {
//             "x": 1668038400,
//             "y": 1.321115013605442
//         },
//         {
//             "x": 1668124800,
//             "y": 1.3116794477611942
//         },
//         {
//             "x": 1668211200,
//             "y": 1.0770087485029944
//         },
//         {
//             "x": 1668297600,
//             "y": 1.210634914728682
//         },
//         {
//             "x": 1668384000,
//             "y": 1.2942969756097555
//         },
//         {
//             "x": 1668470400,
//             "y": 1.335959690322581
//         },
//         {
//             "x": 1668556800,
//             "y": 1.3095630199999997
//         },
//         {
//             "x": 1668643200,
//             "y": 1.3021999347826085
//         },
//         {
//             "x": 1668729600,
//             "y": 1.3698237913669065
//         },
//         {
//             "x": 1668816000,
//             "y": 1.4969349047619043
//         },
//         {
//             "x": 1668902400,
//             "y": 1.424174744966443
//         },
//         {
//             "x": 1668988800,
//             "y": 1.4224287286821715
//         },
//         {
//             "x": 1669075200,
//             "y": 1.4230335317460314
//         },
//         {
//             "x": 1669161600,
//             "y": 1.474427063829787
//         },
//         {
//             "x": 1669248000,
//             "y": 1.5717014186046514
//         },
//         {
//             "x": 1669334400,
//             "y": 1.506700536585366
//         },
//         {
//             "x": 1669420800,
//             "y": 1.5199759816513767
//         },
//         {
//             "x": 1669507200,
//             "y": 1.1504716102941175
//         },
//         {
//             "x": 1669593600,
//             "y": 1.336178187050359
//         },
//         {
//             "x": 1669680000,
//             "y": 1.3612361221374047
//         },
//         {
//             "x": 1669766400,
//             "y": 1.2482112971014487
//         },
//         {
//             "x": 1669852800,
//             "y": 1.255363392156863
//         },
//         {
//             "x": 1669939200,
//             "y": 1.3924808799999993
//         },
//         {
//             "x": 1670025600,
//             "y": 1.3185752137404583
//         },
//         {
//             "x": 1670112000,
//             "y": 1.0863777000000001
//         },
//         {
//             "x": 1670198400,
//             "y": 1.246357904109589
//         },
//         {
//             "x": 1670284800,
//             "y": 1.3289437259259254
//         },
//         {
//             "x": 1670371200,
//             "y": 1.0295061976744189
//         },
//         {
//             "x": 1670457600,
//             "y": 1.004454652694611
//         },
//         {
//             "x": 1670544000,
//             "y": 1.180113157894737
//         },
//         {
//             "x": 1670630400,
//             "y": 1.2850532597402602
//         },
//         {
//             "x": 1670716800,
//             "y": 0.9720994421768707
//         },
//         {
//             "x": 1670803200,
//             "y": 1.200833188811189
//         },
//         {
//             "x": 1670889600,
//             "y": 1.1195085212121214
//         },
//         {
//             "x": 1670976000,
//             "y": 1.2053584324324325
//         },
//         {
//             "x": 1671062400,
//             "y": 1.235629726618705
//         },
//         {
//             "x": 1671148800,
//             "y": 1.183964853846154
//         },
//         {
//             "x": 1671235200,
//             "y": 1.2896539782608694
//         },
//         {
//             "x": 1671321600,
//             "y": 0.9801544137931034
//         },
//         {
//             "x": 1671408000,
//             "y": 1.3223222941176473
//         },
//         {
//             "x": 1671494400,
//             "y": 1.3143528285714288
//         },
//         {
//             "x": 1671580800,
//             "y": 1.2201296153846155
//         },
//         {
//             "x": 1671667200,
//             "y": 1.2444939999999993
//         },
//         {
//             "x": 1671753600,
//             "y": 1.2620145833333334
//         },
//         {
//             "x": 1671840000,
//             "y": 1.4493130561797747
//         }
//     ]
// }

// const marketPrice = {
//     "status": "ok",
//     "name": "Market Price (USD)",
//     "unit": "USD",
//     "period": "day",
//     "description": "Average USD market price across major bitcoin exchanges.",
//     "values": [
//         {
//             "x": 1658966400,
//             "y": 22950.29
//         },
//         {
//             "x": 1659052800,
//             "y": 23856.25
//         },
//         {
//             "x": 1659139200,
//             "y": 23792
//         },
//         {
//             "x": 1659225600,
//             "y": 23647.99
//         },
//         {
//             "x": 1659312000,
//             "y": 23326.49
//         },
//         {
//             "x": 1659398400,
//             "y": 23298.94
//         },
//         {
//             "x": 1659484800,
//             "y": 22981.77
//         },
//         {
//             "x": 1659571200,
//             "y": 22831.85
//         },
//         {
//             "x": 1659657600,
//             "y": 22608.3
//         },
//         {
//             "x": 1659744000,
//             "y": 23295.14
//         },
//         {
//             "x": 1659830400,
//             "y": 22947.19
//         },
//         {
//             "x": 1659916800,
//             "y": 23174.25
//         },
//         {
//             "x": 1660003200,
//             "y": 23816.32
//         },
//         {
//             "x": 1660089600,
//             "y": 23156.31
//         },
//         {
//             "x": 1660176000,
//             "y": 23959.92
//         },
//         {
//             "x": 1660262400,
//             "y": 23953.77
//         },
//         {
//             "x": 1660348800,
//             "y": 24418.38
//         },
//         {
//             "x": 1660435200,
//             "y": 24447.13
//         },
//         {
//             "x": 1660521600,
//             "y": 24314.89
//         },
//         {
//             "x": 1660608000,
//             "y": 24096.19
//         },
//         {
//             "x": 1660694400,
//             "y": 23876.29
//         },
//         {
//             "x": 1660780800,
//             "y": 23332.09
//         },
//         {
//             "x": 1660867200,
//             "y": 23193.99
//         },
//         {
//             "x": 1660953600,
//             "y": 20843.22
//         },
//         {
//             "x": 1661040000,
//             "y": 21150.33
//         },
//         {
//             "x": 1661126400,
//             "y": 21520.51
//         },
//         {
//             "x": 1661212800,
//             "y": 21402.93
//         },
//         {
//             "x": 1661299200,
//             "y": 21516.02
//         },
//         {
//             "x": 1661385600,
//             "y": 21377.51
//         },
//         {
//             "x": 1661472000,
//             "y": 21597.93
//         },
//         {
//             "x": 1661558400,
//             "y": 20233.32
//         },
//         {
//             "x": 1661644800,
//             "y": 20035.59
//         },
//         {
//             "x": 1661731200,
//             "y": 19550.07
//         },
//         {
//             "x": 1661817600,
//             "y": 20290.41
//         },
//         {
//             "x": 1661904000,
//             "y": 19793.02
//         },
//         {
//             "x": 1661990400,
//             "y": 20047.68
//         },
//         {
//             "x": 1662076800,
//             "y": 20130.52
//         },
//         {
//             "x": 1662163200,
//             "y": 19952.91
//         },
//         {
//             "x": 1662249600,
//             "y": 19834.94
//         },
//         {
//             "x": 1662336000,
//             "y": 19994.65
//         },
//         {
//             "x": 1662422400,
//             "y": 19789.87
//         },
//         {
//             "x": 1662508800,
//             "y": 18806.7
//         },
//         {
//             "x": 1662595200,
//             "y": 19280.08
//         },
//         {
//             "x": 1662681600,
//             "y": 19327.53
//         },
//         {
//             "x": 1662768000,
//             "y": 21387.58
//         },
//         {
//             "x": 1662854400,
//             "y": 21673.03
//         },
//         {
//             "x": 1662940800,
//             "y": 21794.52
//         },
//         {
//             "x": 1663027200,
//             "y": 22392.71
//         },
//         {
//             "x": 1663113600,
//             "y": 20172.56
//         },
//         {
//             "x": 1663200000,
//             "y": 20219.55
//         },
//         {
//             "x": 1663286400,
//             "y": 19694.69
//         },
//         {
//             "x": 1663372800,
//             "y": 19787.61
//         },
//         {
//             "x": 1663459200,
//             "y": 20122.71
//         },
//         {
//             "x": 1663545600,
//             "y": 19415.86
//         },
//         {
//             "x": 1663632000,
//             "y": 19542.2
//         },
//         {
//             "x": 1663718400,
//             "y": 18879.96
//         },
//         {
//             "x": 1663804800,
//             "y": 18507.36
//         },
//         {
//             "x": 1663891200,
//             "y": 19408.63
//         },
//         {
//             "x": 1663977600,
//             "y": 19280.58
//         },
//         {
//             "x": 1664064000,
//             "y": 18931.79
//         },
//         {
//             "x": 1664150400,
//             "y": 18807.71
//         },
//         {
//             "x": 1664236800,
//             "y": 19227.26
//         },
//         {
//             "x": 1664323200,
//             "y": 19104.89
//         },
//         {
//             "x": 1664409600,
//             "y": 19530.71
//         },
//         {
//             "x": 1664496000,
//             "y": 19598.86
//         },
//         {
//             "x": 1664582400,
//             "y": 19427.2
//         },
//         {
//             "x": 1664668800,
//             "y": 19314.69
//         },
//         {
//             "x": 1664755200,
//             "y": 19049.72
//         },
//         {
//             "x": 1664841600,
//             "y": 19632.61
//         },
//         {
//             "x": 1664928000,
//             "y": 20342.25
//         },
//         {
//             "x": 1665014400,
//             "y": 20167.79
//         },
//         {
//             "x": 1665100800,
//             "y": 19956.49
//         },
//         {
//             "x": 1665187200,
//             "y": 19544.82
//         },
//         {
//             "x": 1665273600,
//             "y": 19417.73
//         },
//         {
//             "x": 1665360000,
//             "y": 19441.88
//         },
//         {
//             "x": 1665446400,
//             "y": 19132.52
//         },
//         {
//             "x": 1665532800,
//             "y": 19049.64
//         },
//         {
//             "x": 1665619200,
//             "y": 19156.21
//         },
//         {
//             "x": 1665705600,
//             "y": 19383.33
//         },
//         {
//             "x": 1665792000,
//             "y": 19184.71
//         },
//         {
//             "x": 1665878400,
//             "y": 19063.1
//         },
//         {
//             "x": 1665964800,
//             "y": 19265.53
//         },
//         {
//             "x": 1666051200,
//             "y": 19548.97
//         },
//         {
//             "x": 1666137600,
//             "y": 19330.74
//         },
//         {
//             "x": 1666224000,
//             "y": 19125.65
//         },
//         {
//             "x": 1666310400,
//             "y": 19046.83
//         },
//         {
//             "x": 1666396800,
//             "y": 19171.34
//         },
//         {
//             "x": 1666483200,
//             "y": 19205.45
//         },
//         {
//             "x": 1666569600,
//             "y": 19565.91
//         },
//         {
//             "x": 1666656000,
//             "y": 19338.9
//         },
//         {
//             "x": 1666742400,
//             "y": 20101.27
//         },
//         {
//             "x": 1666828800,
//             "y": 20772.36
//         },
//         {
//             "x": 1666915200,
//             "y": 20288.52
//         },
//         {
//             "x": 1667001600,
//             "y": 20601.63
//         },
//         {
//             "x": 1667088000,
//             "y": 20816.16
//         },
//         {
//             "x": 1667174400,
//             "y": 20628.5
//         },
//         {
//             "x": 1667260800,
//             "y": 20499.29
//         },
//         {
//             "x": 1667347200,
//             "y": 20486.26
//         },
//         {
//             "x": 1667433600,
//             "y": 20153.99
//         },
//         {
//             "x": 1667520000,
//             "y": 20208.16
//         },
//         {
//             "x": 1667606400,
//             "y": 21152.93
//         },
//         {
//             "x": 1667692800,
//             "y": 21292.67
//         },
//         {
//             "x": 1667779200,
//             "y": 20920.33
//         },
//         {
//             "x": 1667865600,
//             "y": 20598.44
//         },
//         {
//             "x": 1667952000,
//             "y": 18540.11
//         },
//         {
//             "x": 1668038400,
//             "y": 15856.95
//         },
//         {
//             "x": 1668124800,
//             "y": 17550.23
//         },
//         {
//             "x": 1668211200,
//             "y": 16990.26
//         },
//         {
//             "x": 1668297600,
//             "y": 16776.4
//         },
//         {
//             "x": 1668384000,
//             "y": 16310.3
//         },
//         {
//             "x": 1668470400,
//             "y": 16587.96
//         },
//         {
//             "x": 1668556800,
//             "y": 16873.56
//         },
//         {
//             "x": 1668643200,
//             "y": 16662.24
//         },
//         {
//             "x": 1668729600,
//             "y": 16682.44
//         },
//         {
//             "x": 1668816000,
//             "y": 16683.22
//         },
//         {
//             "x": 1668902400,
//             "y": 16687.8
//         },
//         {
//             "x": 1668988800,
//             "y": 16260.41
//         },
//         {
//             "x": 1669075200,
//             "y": 15759.61
//         },
//         {
//             "x": 1669161600,
//             "y": 16194.75
//         },
//         {
//             "x": 1669248000,
//             "y": 16606.77
//         },
//         {
//             "x": 1669334400,
//             "y": 16592.67
//         },
//         {
//             "x": 1669420800,
//             "y": 16507.44
//         },
//         {
//             "x": 1669507200,
//             "y": 16453.47
//         },
//         {
//             "x": 1669593600,
//             "y": 16420.2
//         },
//         {
//             "x": 1669680000,
//             "y": 16208.96
//         },
//         {
//             "x": 1669766400,
//             "y": 16432.73
//         },
//         {
//             "x": 1669852800,
//             "y": 17170.62
//         },
//         {
//             "x": 1669939200,
//             "y": 16971.57
//         },
//         {
//             "x": 1670025600,
//             "y": 17091.23
//         },
//         {
//             "x": 1670112000,
//             "y": 16894.23
//         },
//         {
//             "x": 1670198400,
//             "y": 17117.57
//         },
//         {
//             "x": 1670284800,
//             "y": 16967.02
//         },
//         {
//             "x": 1670371200,
//             "y": 17085.45
//         },
//         {
//             "x": 1670457600,
//             "y": 16836.05
//         },
//         {
//             "x": 1670544000,
//             "y": 17234.58
//         },
//         {
//             "x": 1670630400,
//             "y": 17128.55
//         },
//         {
//             "x": 1670716800,
//             "y": 17124.99
//         },
//         {
//             "x": 1670803200,
//             "y": 17098.61
//         },
//         {
//             "x": 1670889600,
//             "y": 17206.87
//         },
//         {
//             "x": 1670976000,
//             "y": 17771.03
//         },
//         {
//             "x": 1671062400,
//             "y": 17802.44
//         },
//         {
//             "x": 1671148800,
//             "y": 17357.47
//         },
//         {
//             "x": 1671235200,
//             "y": 16637.6
//         },
//         {
//             "x": 1671321600,
//             "y": 16783.6
//         },
//         {
//             "x": 1671408000,
//             "y": 16745.99
//         },
//         {
//             "x": 1671494400,
//             "y": 16439.89
//         },
//         {
//             "x": 1671580800,
//             "y": 16904.64
//         },
//         {
//             "x": 1671667200,
//             "y": 16813.62
//         },
//         {
//             "x": 1671753600,
//             "y": 16818.68
//         },
//         {
//             "x": 1671840000,
//             "y": 16779.71
//         },
//         {
//             "x": 1671926400,
//             "y": 16838.1
//         }
//     ]
// }